@page
@model Abstrack.Admin.Pages.Tracks.TracksModel
@{
    ViewData["Title"] = "Tracks";
}

<div class="row">
    <div class="col-11">
        <h3 class="mb-3">@ViewData["Title"]</h3>
    </div>
    <div class="col-1">
        <span><a class="text-success" asp-page="./Create"><i class="fas fa-plus"></i></a></span>
    </div>
</div>
<small class="text-muted"><strong>Public:</strong> (@Model.ExtendedUser.Public_Tracks of @Model.ExtendedUser.Public_Tracks_Max)</small><br />
<small class="text-muted"><strong>Private:</strong> (@Model.ExtendedUser.Private_Tracks of @Model.ExtendedUser.Private_Tracks_Max)</small>
<hr />
<div class="row">
    <div class="col-12">
        @foreach (var track in Model.Tracks)
        {
            <div class="card mb-3">
                <h5 class="card-header">
                    @track.Name @if (track.Is_Private)
                    {<small><i class="fas fa-user-secret text-muted"></i></small>}
                </h5>
                <div class="card-body">
                    <p class="card-text">@track.Description</p>
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon3"><i class="fas fa-key text-muted"></i></span>
                        <input value="@track.Request_Key" class="form-control" autocomplete="off" disabled />
                    </div>
                    <div class="input-group">
                        <a class="btn btn-danger btn-sm mt-3" asp-page="./Delete" asp-route-id="@track.RowKey"><i class="fas fa-trash-alt"></i> Delete track</a>
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")
}
